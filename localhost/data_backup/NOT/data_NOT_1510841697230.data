id§NOT_1510841697230°datum§16.11.2017°DatumE§2017-11-16-00-00-00_NOT_1510841697230°art§#2017-11-12°name§laiv-wahlen verbesserung°info§<p><br></p>°text§<p><br></p><br/>-----<br/><p>Wahlen überdenken: wiki listen: adressen und domains mit Verwendung:</p><p>nc.wahlen.mvnet.de kann weg</p><p>+wem adressen</p><p>test.btw.mvnet.de 2017 LAIV und DVZ interner test</p><p>andere - siehe Vertrag</p><p><br></p><p>------------------------------------</p><p>http://www.laiv-mv.de/Wahlen/Bundestagswahlen/2017/Ergebnisseite (Weiterleitung auf https://wahlen.mvnet.de/wahlergebnisse.php?wahl=b)<br></p><p>https://wahlen.mvnet.de/wahlergebnisse.php?wahl=b<br></p><p>http://www.laiv-mv.de/Wahlen/Bundestagswahlen/2017/ergebnisse-2017 Konfiguration</p><p><br></p><p>http://www.laiv-mv.de/Wahlen/Bundestagswahlen/2017/Bundestagswahl-2017-Ergebnisse</p><p>http://www.laiv-mv.de/Wahlen/Bundestagswahlen/2017/Ergebnisse</p><p>https://wahlen.mvnet.de/wahlergebnisse.php?wahl=b</p><p><br></p><p><b>WAHLEN KONZEPTION</b></p><p>Analyse&nbsp;</p><p>Vervollständigung und Abstimmung der Anforderungen</p><p>Sicherheitsanforderungen</p><p><br></p><p>24 Konzeption, abgestimmt mit LAiV</p><p>URL-Konzept (Vereinheitlichung und Vereinfachung von URLs, Weiterleitungen, geschützten Seiten durch Nutzung von zeitbasiertem Rewriting, Reverse-Proxy usw. - laiv-mv.de, wahlen.mvnet.de, service.mvnet.de)</p><p>Vereinfachung Datentransfer-Schnittstelle, Datenverteilung</p><p>Entzerrung Verzeichnis/Server-strukturen LAiV/DVZ, Test/Produktion, Code/Daten, frühere Wahlen/aktuelle Wahlen</p><p>Code- und Daten-Versionierung LAiV- und DVZ-seitig, Reduktion notwendiger manueller Eingriffe</p><p>Mehr Möglichkeiten zur Konfiguration ohne Code-Änderung</p><p>Reduktion der Duplizierung von manuell gepflegten PDF-Dokumenten (WEM laiv-mv.de, service.mvnet.de, wahlen.mvnet.de)</p><p>Hinweise zum Ablauf für zukünftige Wahlen, inkl. Testplanung</p><p><br></p><p><br></p><p>40 Umsetzung</p><p>Neuuimplementierung PHP-Code, Scripts für&nbsp;</p><p>- Seitendarstellung, inkl. WEM Integration</p><p>- Datentransfer</p><p>Varnish/Apache-Rewrites</p><p>Entwicklung Jenkins-Deployment-Job</p><p><br></p><p><br></p><p>16 Test</p><p><br></p><p>----------------------------------------------------------------------------------------------</p><p><br></p><p>Test am 24.8. fuer Bundestagswahl 24.9.</p><p><br></p><p>Test BE:</p><p>/bund/20170924/public -&gt; /bund/20170924/20170824/public/</p><p>Prod BE:</p><p>/bund/20170924/public -&gt; /bund/20170924/20170924/public/</p><p><br></p><p>/bund/20170924/20170822/</p><p>/bund/20170924/20170824/public/data/man</p><p>/bund/20170924/20170824/public/data/auto</p><p>/bund/20170924/20170824/public/index.php</p><p>/bund/20170924/20170824/src/php/</p><p>/bund/20170924/20170924/</p><p><br></p><p>/bund/20170924/20170824/public/data/auto/atlanten/ergebnisse.2017/bundestagswahl.html</p><p>/bund/20170924/20170824/public/data/auto/atlanten/ergebnisse.2017/bundestagswahlonlineatlas.html</p><p>/bund/20170924/20170824/public/data/man/atlanten/ergebnisse.2017/bundestagswahl_changecontent.html</p><p>/bund/20170924/20170824/public/data/man/atlanten/ergebnisse.2017/bundestagswahlwahlkreise-gemeinden.html</p><p>/bund/20170924/20170824/public/data/man/atlanten/plugins</p><p>/bund/20170924/20170824/public/data/auto/htm/b-abs.htm</p><p>/bund/20170924/20170824/public/data/auto/htm/pdf/b-abs.pdf</p><p>/bund/20170924/20170824/public/data/man/dok/bw-2017-verwaltungsvorschrift.pdf</p><p><br></p><p>Erzeugen einer Version a aus Version b:</p><p>Kopiere a nach b, lösche ../b/../auto/*</p><p>Trage b als Ziel für Datentransfer ein.</p><p>Verlinke public auf b</p><p><br></p><p>Adressen:</p><p>&nbsp;&amp;datum=20170922 zeigt Seite so an, wie die Seite am 22.9. aussehen würde (Prod und Test)</p><p>&nbsp;&amp;laivtest=ja holt Seite immer vom geschützten Test BE. Alle Links im Atlas usw. müssen diesen Parameter übernehmen, wenn er gesetzt ist,</p><p>&nbsp;z.B. https://wahlen.mvnet.de/dateien/atlanten/ergebnisse.2017/bundestagswahl.html?WK=13012&amp;Typ=1&amp;laivtest=1</p><p>&nbsp;</p><p>&nbsp;</p><p><br></p><p>&nbsp;https://wahlen.mvnet.de/bund/20170924/ -&gt; /bund/20170924/public == /bund/20170924/20170824/public/</p><p>&nbsp;https://wahlen.mvnet.de/bund/20170924/data/auto/htm/b-abs.htm -&gt; /bund/20170924/public/data/auto/htm/b-abs.htm == /bund/20170924/20170824/public/data/auto/htm/b-abs.htm</p><p>&nbsp;</p><p>&nbsp;getestet wird im LAiV und DVZ immer mit Adressen der Form</p><p>&nbsp;https://wahlen.mvnet.de/bund/20170924/?laivtest=ja&amp;datum=20170924</p><p><br></p><p>&nbsp;Großtest:&nbsp; &nbsp;</p><p>&nbsp;Es wird eine neue Version erzeugt</p><p>&nbsp;BE Server werden geschützt</p><p>&nbsp;public wird auf die neue Version gelegt</p><p>&nbsp;Test</p><p>&nbsp;public wird auf die alte Version gelegt</p><p>&nbsp;Schutz wird aufgehoben</p><p>&nbsp;neue Version wird gelöscht</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;laiv-mv.de:</p><p>&nbsp;</p><p>&nbsp;https://www.laiv-mv.de/Wahlen/Bundestagswahlen/2017/Wahlergebnisse -&gt; integriert https://wahlen.mvnet.de/bund/20170924/?wem=yes&nbsp; (BE 1,2)</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p>°files§